function createGallery(e,i,t,d){jQuery("html, body").animate({scrollTop:"0px"}),jQuery("body").prepend('<div id="overlay">&nbsp;</div>'),null!=d?jQuery("body").prepend('<div class="frontGallery" name="'+d+'"> </div>'):jQuery("body").prepend('<div class="frontGallery"> </div>'),jQuery("div.frontGallery").append('<div class="imgContainer"><img class="galleryImg" src="'+e+'"/></div>'),jQuery("div.frontGallery").append('<div class="imgBox"></div>'),imgWidth=jQuery("div.imgContainer").width(),i?jQuery("div.imgBox").append('<div class="imgTitle" style="width:'+imgWidth+'px"><div>'+i+"</div></div>"):jQuery("div.imgBox").append('<div class="imgTitle hidden"><div></div></div>'),t?jQuery("div.imgBox").append('<div class="imgText" style="width:'+imgWidth+'px"><div>'+t+"</div></div>"):jQuery("div.imgBox").append('<div class="imgText hidden"><div></div></div>'),jQuery("div.imgContainer").append('<div class="galleryControls"></div>'),jQuery("div.galleryControls").append('<a class="galleryClose">x</a>'),controlGallery(e)}function controlGallery(e){imgClass=jQuery("a[href='"+e+"']"),galName=jQuery(imgClass).attr("gal-name"),jQuery(document).find("div.frontGallery div.next").remove(),jQuery(document).find("div.frontGallery div.prev").remove(),jQuery(imgClass).is("[gal-order='last']")||jQuery("div.galleryControls").append('<div class="next">&raquo;</div>'),jQuery(imgClass).is("[gal-order='first']")||jQuery("div.galleryControls").append('<div class="prev">&laquo;</div>')}function showNextImg(e,i){currentImg=jQuery(document).find(".galleryImg"),jQuery("a[href='"+i+"']").attr("gal-name",e)&&(getTitle=jQuery("a[href='"+i+"']").attr("slide-title")?jQuery("a[href='"+i+"']").attr("slide-title"):"noTitle",getText=jQuery("a[href='"+i+"']").attr("slide-text")?jQuery("a[href='"+i+"']").attr("slide-text"):"noTitle","fade"==aniTransition&&(jQuery(".frontGallery img").animate({opacity:0},aniTime,function(){currentImg.attr("src",i)}),jQuery(".imgBox").animate({opacity:0},aniTime,function(){"noTitle"!=getText?(jQuery(document).find("div.imgText div").text(getText),jQuery(document).find("div.imgText").removeClass("hidden")):jQuery(document).find("div.imgText").addClass("hidden"),"noTitle"!=getTitle?(jQuery(document).find("div.imgTitle div").text(getTitle),jQuery(document).find("div.imgTitle").removeClass("hidden")):jQuery(document).find("div.imgTitle").addClass("hidden")}),containerWidth=jQuery("div.imgContainer").width(),imgWidth=jQuery("div.imgContainer img").width(),containerWidth>imgWidth&&(imgWidth=containerWidth),jQuery(document).find("div.imgText").css("width",imgWidth+"px"),jQuery(document).find("div.imgTitle").css("width",imgWidth+"px"),jQuery(".imgBox").animate({opacity:1},aniTime,function(){"noTitle"!=getText?(jQuery(document).find("div.imgText div").text(getText),jQuery(document).find("div.imgText").removeClass("hidden")):jQuery(document).find("div.imgText").addClass("hidden"),"noTitle"!=getTitle?(jQuery(document).find("div.imgTitle div").text(getTitle),jQuery(document).find("div.imgTitle").removeClass("hidden")):jQuery(document).find("div.imgTitle").addClass("hidden")}),jQuery(".frontGallery img").animate({opacity:1})),controlGallery(i))}function showPrevImg(e,i){currentImg=jQuery(document).find(".galleryImg"),jQuery("a[href='"+i+"']").attr("gal-name")==e&&(getTitle=jQuery("a[href='"+i+"']").attr("slide-title"),getTitle=jQuery("a[href='"+i+"']").attr("slide-title")?jQuery("a[href='"+i+"']").attr("slide-title"):"noTitle",getText=jQuery("a[href='"+i+"']").attr("slide-text")?jQuery("a[href='"+i+"']").attr("slide-text"):"noTitle"),"fade"==aniTransition&&(jQuery(".frontGallery img").animate({opacity:0},aniTime,function(){currentImg.attr("src",i)}),jQuery(".imgBox").animate({opacity:0},aniTime,function(){"noTitle"!=getText?(jQuery(document).find("div.imgText div").text(getText),jQuery(document).find("div.imgText").removeClass("hidden")):jQuery(document).find("div.imgText").addClass("hidden"),"noTitle"!=getTitle?(jQuery(document).find("div.imgTitle div").text(getTitle),jQuery(document).find("div.imgTitle").removeClass("hidden")):jQuery(document).find("div.imgTitle").addClass("hidden")}),containerWidth=jQuery("div.imgContainer").width(),imgWidth=jQuery("div.imgContainer img").width(),containerWidth>imgWidth&&(imgWidth=containerWidth),jQuery(document).find("div.imgText").css("width",imgWidth+"px"),jQuery(document).find("div.imgTitle").css("width",imgWidth+"px"),jQuery(".imgBox").animate({opacity:1},aniTime,function(){"noTitle"!=getText?(jQuery(document).find("div.imgText div").text(getText),jQuery(document).find("div.imgText").removeClass("hidden")):jQuery(document).find("div.imgText").addClass("hidden"),"noTitle"!=getTitle?(jQuery(document).find("div.imgTitle div").text(getTitle),jQuery(document).find("div.imgTitle").removeClass("hidden")):jQuery(document).find("div.imgTitle").addClass("hidden")}),jQuery(".frontGallery img").animate({opacity:1})),controlGallery(i)}function frontGallery(e){jQuery.each(e,function(i,t){aniTime=e.aniTime,aniClass=e.aniClass}),jQuery(document).find("."+aniClass).first().attr("gal-order","first"),jQuery(document).find("."+aniClass).last().attr("gal-order","last"),jQuery(document).ready(function(){void 0!=aniClass?link="a."+aniClass:link="a",jQuery(link).click(function(){return getLink=jQuery(this).attr("href"),getTitle=jQuery(this).attr("slide-title"),getText=jQuery(this).attr("slide-text"),galName=jQuery(this).attr("gal-name"),jQuery(document).find("a[gal-name='"+galName+"']").first().attr("gal-order","first"),jQuery(document).find("a[gal-name='"+galName+"']").last().attr("gal-order","last"),createGallery(getLink,getTitle,getText,galName),!1}),jQuery(document).on("click",".galleryClose",function(){jQuery(document).find(".frontGallery").remove(),jQuery(document).find("#overlay").remove()}),jQuery(document).on("click",".next",function(){currentImg=jQuery(document).find("div.frontGallery img").attr("src"),galName=jQuery("a[href='"+currentImg+"']").attr("gal-name"),nextImg=jQuery("a[href='"+currentImg+"']").next().attr("href"),showNextImg(galName,nextImg)}),jQuery(document).on("click",".prev",function(){currentImg=jQuery(document).find("div.frontGallery img").attr("src"),galName=jQuery("a[href='"+currentImg+"']").attr("gal-name"),prevImg=jQuery("a[href='"+currentImg+"']").prev().attr("href"),console.log(prevImg),showPrevImg(galName,prevImg)})})}var getLink,getTitle,getText,getParent,galName,imgClass,currentImg,aniTime,imgWidth,containerWidth,aniTransition="fade";